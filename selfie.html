<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="format-detection" content="telephone=no,email=no,address=no" />

  <title>Kanatake Camï¼ˆSelfieï¼‰ï½œãŠã«ãã‚Šå±‹ã‹ãªãŸã‘</title>
  <meta name="description" content="ã‹ãªãŸã‘ã¡ã‚ƒã‚“ã‚’åˆæˆã—ã¦è‡ªæ’®ã‚Šã€‚ä½ç½®ãƒ»ã‚µã‚¤ã‚ºã‚’è‡ªç”±ã«èª¿æ•´ã—ã¦æ’®å½±ã§ãã¾ã™ã€‚" />

  <!-- OGPï¼ˆå¿…è¦ãªã‚‰å·®ã—æ›¿ãˆï¼‰ -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="ãŠã«ãã‚Šå±‹ã‹ãªãŸã‘" />
  <meta property="og:title" content="Kanatake Camï¼ˆSelfieï¼‰" />
  <meta property="og:description" content="ã‹ãªãŸã‘ã¡ã‚ƒã‚“ã‚’åˆæˆã—ã¦è‡ªæ’®ã‚Šã€‚ä½ç½®ãƒ»ã‚µã‚¤ã‚ºã‚’è‡ªç”±ã«èª¿æ•´ã—ã¦æ’®å½±ã§ãã¾ã™ã€‚" />
  <meta property="og:url" content="https://kimura-jane.github.io/kanatake-ar/selfie.html" />
  <meta property="og:image" content="https://kimura-jane.github.io/kanatake-ar/ogp_kanatake_1200x630.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg:#0b0d12;
      --panel: rgba(255,255,255,.10);
      --line: rgba(255,255,255,.16);
      --text:#f3f5f7;
      --muted: rgba(243,245,247,.72);
      --accent:#ff5a77;
      --accent2:#3b82f6;
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Hiragino Sans", "Noto Sans JP", "Segoe UI", Roboto, Arial;
      color: var(--text);
      background:
        radial-gradient(900px 420px at 20% 10%, rgba(255,90,119,.22), transparent 60%),
        radial-gradient(900px 420px at 85% 15%, rgba(59,130,246,.18), transparent 55%),
        linear-gradient(180deg, #0b0d12, #07090d);
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 16px 14px 26px;
    }
    .bar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 12px 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      border-radius: 999px;
      backdrop-filter: blur(10px);
    }
    .bar .title{
      display:flex; align-items:center; gap:10px;
      font-weight:800;
      letter-spacing:.02em;
    }
    .badge{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.10);
      border: 1px solid var(--line);
    }
    .bar a{
      color: var(--text);
      text-decoration:none;
      border-bottom: 1px dotted rgba(255,255,255,.35);
      font-size: 13px;
      opacity:.92;
    }

    .help{
      margin-top: 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      border-radius: var(--radius);
      padding: 12px 12px;
      color: var(--muted);
      line-height: 1.7;
      font-size: 13px;
    }
    .help b{color:var(--text)}
    .stage{
      margin-top: 12px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.25);
      border-radius: var(--radius);
      overflow:hidden;
      position: relative;
      aspect-ratio: 9 / 16;
      min-height: 520px;
    }
    @media(min-width: 780px){
      .stage{ aspect-ratio: 16 / 9; min-height: 520px; }
    }

    video, canvas, .overlayLayer{
      position:absolute; inset:0;
      width:100%; height:100%;
    }
    video{
      object-fit: cover;
      transform: scaleX(-1); /* è‡ªæ’®ã‚ŠãƒŸãƒ©ãƒ¼è¡¨ç¤º */
      background:#000;
    }
    .overlayLayer{
      pointer-events:none;
    }
    .overlayImg{
      position:absolute;
      left:50%; top:55%;
      transform: translate(-50%,-50%);
      width: 42%;
      max-width: 520px;
      touch-action: none;
      user-select:none;
      pointer-events:auto;
      filter: drop-shadow(0 14px 28px rgba(0,0,0,.35));
    }
    .tapHint{
      position:absolute;
      left: 14px; right: 14px; top: 14px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.92);
      font-size: 13px;
      line-height: 1.55;
      backdrop-filter: blur(8px);
    }
    .tapHint .dot{
      display:inline-block;
      width:8px;height:8px;border-radius:99px;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(255,90,119,.18);
      margin-right:8px;
      vertical-align:middle;
    }

    .controls{
      margin-top: 12px;
      display:grid;
      gap: 10px;
      grid-template-columns: 1fr 1fr;
    }
    @media(min-width: 780px){
      .controls{ grid-template-columns: 1.3fr 1.3fr 1fr 1fr; }
    }
    button{
      appearance:none;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      color: var(--text);
      border-radius: 14px;
      padding: 12px 12px;
      font-weight: 700;
      letter-spacing:.01em;
      cursor:pointer;
    }
    button.primary{
      background: linear-gradient(180deg, rgba(255,90,119,.95), rgba(255,90,119,.70));
      border-color: rgba(255,90,119,.55);
    }
    button.secondary{
      background: linear-gradient(180deg, rgba(59,130,246,.95), rgba(59,130,246,.65));
      border-color: rgba(59,130,246,.55);
    }
    button:disabled{
      opacity:.45;
      cursor:not-allowed;
    }

    .sizeRow{
      margin-top: 10px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      border-radius: 14px;
      padding: 10px 12px;
      display:flex;
      gap: 10px;
      align-items:center;
      color: var(--muted);
      font-size: 12px;
    }
    input[type="range"]{
      width: 100%;
    }

    .result{
      margin-top: 12px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      border-radius: var(--radius);
      padding: 12px 12px;
      display:none;
    }
    .result img{
      width:100%;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      display:block;
    }
    .result .row{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 10px;
    }
    .small{
      color: var(--muted);
      font-size: 12px;
      line-height: 1.7;
      margin-top: 8px;
    }
  </style>
</head>

<body>
  <main class="wrap">
    <div class="bar">
      <div class="title">
        <div class="badge" aria-hidden="true">ğŸ“¸</div>
        <div>Kanatake Camï¼ˆSelfieï¼‰</div>
      </div>
      <a href="./index.html">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>
    </div>

    <div class="help">
      <b>ä½¿ã„æ–¹ï¼š</b>ç”»é¢ä¸Šã®ã€Œã‹ãªãŸã‘ã¡ã‚ƒã‚“ã€ã‚’<b>æŒ‡ã§ç§»å‹•</b>ã§ãã¾ã™ã€‚<b>ãƒ”ãƒ³ãƒã§æ‹¡å¤§ãƒ»ç¸®å°</b>ï¼ˆã†ã¾ãã„ã‹ãªã„å ´åˆã¯ä¸‹ã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã‚‚èª¿æ•´ã§ãã¾ã™ï¼‰ã€‚<br>
      <b>é¡”å‡ºã—NGã®æ–¹ã¸ï¼š</b>æ’®å½±å¾Œã€ã‚¹ã‚¿ãƒ³ãƒ—ãƒ»ãƒ¢ã‚¶ã‚¤ã‚¯ãƒ»ãƒˆãƒªãƒŸãƒ³ã‚°ç­‰ã§ç·¨é›†ã—ã¦ã‹ã‚‰SNSã«æŠ•ç¨¿ã—ã¦ã„ãŸã ã„ã¦å¤§ä¸ˆå¤«ã§ã™ã€‚
    </div>

    <section class="stage" aria-label="æ’®å½±ç”»é¢">
      <video id="video" playsinline muted></video>

      <div class="tapHint" id="hint">
        <span class="dot" aria-hidden="true"></span>
        ã‹ãªãŸã‘ã¡ã‚ƒã‚“ã‚’å‹•ã‹ã—ã¦ã€ä½ç½®ã¨ã‚µã‚¤ã‚ºã‚’èª¿æ•´ã—ã¦ã‹ã‚‰ã€Œæ’®å½±ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
      </div>

      <!-- ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆãƒ‰ãƒ©ãƒƒã‚°å¯¾è±¡ï¼‰ -->
      <img id="overlay" class="overlayImg" src="./kanatake.png" alt="ã‹ãªãŸã‘ã¡ã‚ƒã‚“" />

      <!-- æ’®å½±ç”¨ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆé€šå¸¸ã¯éè¡¨ç¤ºï¼‰ -->
      <canvas id="canvas" style="display:none;"></canvas>
    </section>

    <div class="controls" aria-label="æ“ä½œ">
      <button class="secondary" id="btnSwitch">ã‚«ãƒ¡ãƒ©åˆ‡æ›¿</button>
      <button id="btnReset">ä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆ</button>
      <button class="primary" id="btnShot">æ’®å½±</button>
      <button id="btnShare" disabled>å…±æœ‰ / ä¿å­˜</button>
    </div>

    <div class="sizeRow" aria-label="ã‚µã‚¤ã‚ºèª¿æ•´">
      ã‚µã‚¤ã‚ºèª¿æ•´
      <input id="size" type="range" min="0.20" max="1.40" step="0.01" value="1.00" />
    </div>

    <section class="result" id="result" aria-label="æ’®å½±çµæœ">
      <img id="resultImg" alt="æ’®å½±çµæœ" />
      <div class="row">
        <button id="btnDownload">ç”»åƒã‚’ä¿å­˜</button>
        <button class="secondary" id="btnShare2">å…±æœ‰ï¼ˆSNSã¸ï¼‰</button>
        <button id="btnRetake">æ’®ã‚Šç›´ã™</button>
      </div>
      <div class="small">
        â€»å‘¨å›²ã®ãŠå®¢ã•ã¾ãŒå†™ã‚Šè¾¼ã¾ãªã„ã‚ˆã†ã”é…æ…®ãã ã•ã„ã€‚<br>
        â€»SNSã‚¢ãƒ—ãƒªå†…ãƒ–ãƒ©ã‚¦ã‚¶ã§ä¸å®‰å®šãªå ´åˆã¯ Safari / Chrome ã§é–‹ãç›´ã™ã¨å®‰å®šã—ã¾ã™ã€‚
      </div>
    </section>
  </main>

  <script>
    // ===== è¨­å®šï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åï¼‰=====
    const OVERLAY_SRC = './kanatake.png';

    // ===== DOM =====
    const video = document.getElementById('video');
    const overlay = document.getElementById('overlay');
    const canvas = document.getElementById('canvas');
    const sizeSlider = document.getElementById('size');

    const btnSwitch = document.getElementById('btnSwitch');
    const btnReset  = document.getElementById('btnReset');
    const btnShot   = document.getElementById('btnShot');
    const btnShare  = document.getElementById('btnShare');

    const resultBox = document.getElementById('result');
    const resultImg = document.getElementById('resultImg');
    const btnDownload = document.getElementById('btnDownload');
    const btnShare2   = document.getElementById('btnShare2');
    const btnRetake   = document.getElementById('btnRetake');

    // ===== çŠ¶æ…‹ =====
    let stream = null;
    let facingMode = 'user'; // 'user' or 'environment'

    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®ä½ç½®ãƒ»ã‚µã‚¤ã‚ºï¼ˆæ¯”ç‡ãƒ™ãƒ¼ã‚¹ï¼‰
    let state = {
      x: 0.50,   // 0..1 (center)
      y: 0.55,   // 0..1 (center)
      s: 1.00    // scale
    };

    // ãƒ‰ãƒ©ãƒƒã‚° / ãƒ”ãƒ³ãƒ
    let dragging = false;
    let startPointer = null;  // {x,y}
    let startState = null;

    let pinch = {
      active: false,
      id1: null, id2: null,
      startDist: 0,
      startScale: 1
    };

    // ===== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ =====
    function clamp(v, min, max){ return Math.min(max, Math.max(min, v)); }

    function applyOverlay(){
      const stage = overlay.parentElement; // .stage
      const rect = stage.getBoundingClientRect();
      const px = rect.width  * state.x;
      const py = rect.height * state.y;

      overlay.style.left = px + 'px';
      overlay.style.top  = py + 'px';

      // ãƒ™ãƒ¼ã‚¹å¹…ã¯ç”»é¢å¹…ã® 42%ï¼ˆCSSï¼‰ãªã®ã§ã€transform scaleã§èª¿æ•´
      overlay.style.transform = `translate(-50%,-50%) scale(${state.s})`;
      sizeSlider.value = state.s.toFixed(2);
    }

    function resetOverlay(){
      state.x = 0.50;
      state.y = 0.55;
      state.s = 1.00;
      applyOverlay();
    }

    async function startCamera(){
      if(stream){
        stream.getTracks().forEach(t => t.stop());
        stream = null;
      }
      const constraints = {
        audio: false,
        video: {
          facingMode: { ideal: facingMode },
          width: { ideal: 1280 },
          height: { ideal: 720 }
        }
      };
      stream = await navigator.mediaDevices.getUserMedia(constraints);
      video.srcObject = stream;
      await video.play();
    }

    function supportsShareFiles(){
      return !!(navigator.canShare && navigator.canShare({ files: [new File(["a"],"a.png",{type:"image/png"})] }));
    }

    async function canvasToBlob(type='image/png', quality=0.92){
      return new Promise(resolve => canvas.toBlob(resolve, type, quality));
    }

    // ===== ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ç”»åƒè¨­å®š =====
    overlay.src = OVERLAY_SRC;
    overlay.draggable = false;

    // ===== æ“ä½œï¼ˆãƒã‚¤ãƒ³ã‚¿ï¼‰=====
    overlay.addEventListener('pointerdown', (e) => {
      overlay.setPointerCapture(e.pointerId);
      dragging = true;
      startPointer = { x: e.clientX, y: e.clientY };
      startState = { ...state };
    });

    overlay.addEventListener('pointermove', (e) => {
      if(!dragging) return;

      const stage = overlay.parentElement;
      const rect = stage.getBoundingClientRect();
      const dx = (e.clientX - startPointer.x) / rect.width;
      const dy = (e.clientY - startPointer.y) / rect.height;

      state.x = clamp(startState.x + dx, 0.05, 0.95);
      state.y = clamp(startState.y + dy, 0.05, 0.95);
      applyOverlay();
    });

    overlay.addEventListener('pointerup', () => { dragging = false; });
    overlay.addEventListener('pointercancel', () => { dragging = false; });

    // ===== ãƒ”ãƒ³ãƒï¼ˆã‚¿ãƒƒãƒ2æœ¬ï¼‰=====
    const stageEl = document.querySelector('.stage');

    stageEl.addEventListener('touchstart', (e) => {
      if(e.touches.length === 2){
        pinch.active = true;
        pinch.id1 = e.touches[0].identifier;
        pinch.id2 = e.touches[1].identifier;

        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        pinch.startDist = Math.hypot(dx, dy);
        pinch.startScale = state.s;
      }
    }, { passive: true });

    stageEl.addEventListener('touchmove', (e) => {
      if(!pinch.active || e.touches.length < 2) return;

      // ç¾åœ¨ã®2ç‚¹ã‚’æ¢ã™
      let t1=null, t2=null;
      for(const t of e.touches){
        if(t.identifier === pinch.id1) t1=t;
        if(t.identifier === pinch.id2) t2=t;
      }
      if(!t1 || !t2) return;

      const dx = t1.clientX - t2.clientX;
      const dy = t1.clientY - t2.clientY;
      const dist = Math.hypot(dx, dy);
      const ratio = dist / pinch.startDist;

      state.s = clamp(pinch.startScale * ratio, 0.20, 1.40);
      applyOverlay();
    }, { passive: true });

    stageEl.addEventListener('touchend', (e) => {
      if(e.touches.length < 2){
        pinch.active = false;
      }
    }, { passive: true });

    // ===== ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ =====
    sizeSlider.addEventListener('input', () => {
      state.s = clamp(parseFloat(sizeSlider.value), 0.20, 1.40);
      applyOverlay();
    });

    // ===== æ’®å½± =====
    btnShot.addEventListener('click', async () => {
      // è§£åƒåº¦ï¼šå‹•ç”»ã®å®Ÿå¯¸ã«åˆã‚ã›ã‚‹
      const vw = video.videoWidth || 1280;
      const vh = video.videoHeight || 720;

      canvas.width = vw;
      canvas.height = vh;

      const ctx = canvas.getContext('2d');

      // è‡ªæ’®ã‚ŠãƒŸãƒ©ãƒ¼ã‚’ã€Œæ’®å½±çµæœã€ã‚‚ä¸€è‡´ã•ã›ã‚‹ï¼ˆãƒŸãƒ©ãƒ¼ã®ã¾ã¾ã«ã™ã‚‹ï¼‰
      // ãƒŸãƒ©ãƒ¼ä¸è¦ãªã‚‰ã“ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤ã—ã€drawImage(video,0,0,...)ã ã‘ã«ã—ã¦ãã ã•ã„
      ctx.save();
      ctx.translate(vw, 0);
      ctx.scale(-1, 1);
      ctx.drawImage(video, 0, 0, vw, vh);
      ctx.restore();

      // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®æç”»ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸æ¯”ç‡â†’å‹•ç”»è§£åƒåº¦ã«å¤‰æ›ï¼‰
      const stageRect = stageEl.getBoundingClientRect();

      // overlay ã®ç¾åœ¨ã‚µã‚¤ã‚ºï¼ˆCSSãƒ™ãƒ¼ã‚¹å¹…Ã—scaleï¼‰
      const overlayRect = overlay.getBoundingClientRect();

      // ç”»é¢ä¸Šã® overlayRect ã‚’ stageRect å†…ã®ç›¸å¯¾ã«å¤‰æ›
      const ox = (overlayRect.left - stageRect.left) / stageRect.width;
      const oy = (overlayRect.top  - stageRect.top ) / stageRect.height;
      const ow = overlayRect.width / stageRect.width;
      const oh = overlayRect.height/ stageRect.height;

      // å‹•ç”»åº§æ¨™ã¸
      const dx = ox * vw;
      const dy = oy * vh;
      const dw = ow * vw;
      const dh = oh * vh;

      // ç”»åƒãƒ­ãƒ¼ãƒ‰å®Œäº†å¾…ã¡
      if(!overlay.complete){
        await new Promise(r => overlay.addEventListener('load', r, { once:true }));
      }
      ctx.drawImage(overlay, dx, dy, dw, dh);

      // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
      const blob = await canvasToBlob('image/png');
      const url = URL.createObjectURL(blob);
      resultImg.src = url;

      resultBox.style.display = 'block';
      btnShare.disabled = false;

      // stage ã‹ã‚‰é›¢ã‚ŒãŸã‚‰çµæœãŒè¦‹ãˆã‚‹ä½ç½®ã¸
      resultBox.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // å…±æœ‰ãƒœã‚¿ãƒ³ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒ
      btnShare.dataset.blobUrl = url;
    });

    // ===== å…±æœ‰ / ä¿å­˜ =====
    async function getShotBlob(){
      const blob = await canvasToBlob('image/png');
      return blob;
    }

    btnShare.addEventListener('click', async () => {
      // ã“ã“ã¯ã€Œæ’®å½±å¾Œã«ä½¿ã†ã€æƒ³å®š
      try{
        const blob = await getShotBlob();
        const file = new File([blob], 'kanatake-selfie.png', { type: 'image/png' });

        if(navigator.share && supportsShareFiles()){
          await navigator.share({
            title: 'Kanatake Camï¼ˆSelfieï¼‰',
            text: 'ã‹ãªãŸã‘ã¡ã‚ƒã‚“ã¨ä¸€ç·’ã«æ’®ã‚ã†ã€‚',
            files: [file]
          });
        }else{
          // å…±æœ‰ãŒç„¡ç†ãªã‚‰ä¿å­˜æ¡ˆå†…
          downloadBlob(blob, 'kanatake-selfie.png');
        }
      }catch(err){
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç­‰ã¯ç„¡è¦–
      }
    });

    function downloadBlob(blob, filename){
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      a.remove();
      setTimeout(()=>URL.revokeObjectURL(a.href), 1500);
    }

    btnDownload.addEventListener('click', async () => {
      const blob = await getShotBlob();
      downloadBlob(blob, 'kanatake-selfie.png');
    });

    btnShare2.addEventListener('click', async () => {
      try{
        const blob = await getShotBlob();
        const file = new File([blob], 'kanatake-selfie.png', { type: 'image/png' });

        if(navigator.share && supportsShareFiles()){
          await navigator.share({
            title: 'Kanatake Camï¼ˆSelfieï¼‰',
            text: 'ã‹ãªãŸã‘ã¡ã‚ƒã‚“ã¨ä¸€ç·’ã«æ’®ã‚ã†ã€‚',
            files: [file]
          });
        }else{
          downloadBlob(blob, 'kanatake-selfie.png');
        }
      }catch(err){}
    });

    btnRetake.addEventListener('click', () => {
      resultBox.style.display = 'none';
      // çµæœç”»åƒURLè§£æ”¾
      if(resultImg.src.startsWith('blob:')){
        URL.revokeObjectURL(resultImg.src);
      }
      resultImg.src = '';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // ===== ã‚«ãƒ¡ãƒ©åˆ‡æ›¿ / ãƒªã‚»ãƒƒãƒˆ =====
    btnSwitch.addEventListener('click', async () => {
      facingMode = (facingMode === 'user') ? 'environment' : 'user';
      await startCamera();
    });

    btnReset.addEventListener('click', () => resetOverlay());

    // ===== èµ·å‹• =====
    (async () => {
      try{
        applyOverlay();
        await startCamera();
      }catch(e){
        alert('ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®æ¨©é™è¨­å®šã‚’ã”ç¢ºèªãã ã•ã„ã€‚');
      }
    })();

    // ç”»é¢ã‚µã‚¤ã‚ºå¤‰æ›´æ™‚ã«ä½ç½®è£œæ­£
    window.addEventListener('resize', () => applyOverlay());
  </script>
</body>
</html>
